language: groovy
jdk:
- openjdk8
before_install:
- 'if [ "$TRAVIS_PULL_REQUEST" = "false" ]; then openssl aes-256-cbc -K $encrypted_9d41042a5a8d_key -iv $encrypted_9d41042a5a8d_iv -in secRing.gpg.enc -out secRing.gpg -d; fi'
script:
- ./gradlew clean build test
after_success:
- 'if [ "$TRAVIS_BRANCH" = "master" ] && [ "$TRAVIS_PULL_REQUEST" = "false" ]; then ./gradlew clean assemble -x signArchives; fi'
- 'if [ "$TRAVIS_BRANCH" = "master" ] && [ "$TRAVIS_PULL_REQUEST" = "false" ]; then ./gradlew signArchives; fi'
- 'if [ "$TRAVIS_BRANCH" = "master" ] && [ "$TRAVIS_PULL_REQUEST" = "false" ]; then ./gradlew uploadArchives -PossrhUsername=${SONATYPE_USERNAME} -PossrhPassword=${SONATYPE_PASSWORD} -Psigning.keyId=${GPG_KEY_ID} -Psigning.password=${GPG_KEY_PASSPHRASE} -Psigning.secretKeyRingFile=secRing.gpg; fi'
env:
  global:
  - secure: BN7D9y5V5E3lF9NLf1YxRlayMN3rmHK8YlIhlk7qOUvueq5l/3PfJoucH+/Q1H6m36x71wSDTc1MVHqYPAT7nEoTvUhwLSjnI/54NzNc70a5BGXR0q1N8DS+FQoc5cUm6kBjNE9GbCQBBJ3DcWr6pbtShqGfiKx8165ssRHONEVaNiw2wK3pPpuajEiEKSy6l9jfdbtxuUHaQn8vrNrXjVgvRCEaejGB7oVLcbZQCaMS4ekHTcGR6EkmnsQgBhhQkIsI4XQwPrNJd1rIeQWcGxpOzYjXyJ03+KtOSzW/SKYYRuhpsELid3wLrF/id3J7MBO5lFUwbv8qHWAnqUYc4S+7uggtVqEEq5cwZHqPBOXwd2PYtXMFkNDCEv66HOyeOF6hpin9ndobsnNvao8zEKExPp2sDZ+uYx1IThTT32s8USDgpNU86N5aaVoMsP1W455TjYnB//N3q6o8mmp7BpRk9Z2Dm8onpedDDUJkIzQ5YFWqm7uDFw2BkK0PmrJBFzXC2w098zTKJRfRIAEGB2rTfAg+0h2HjzpSICH1udYKcGqDcDwXTUwnCZjkT5rrVkWg1ToF5Lbe6D3yx9fjvxHcPDNcuUKEIFEeHQIP7NlOyARp98ZHkN48jqzjk1xJgXr4KIBNe7YLwbvOqSI2KC6doKdIjdIKpkVuH7USvuY=
  - secure: eBQUCg1QL+bOZNG8tIBstogwAtABj+ej/6d2B75tGchtNgcmosxer5pk3r+6GKAMpELW9A90n+RvbfS36VW0rfv19ByER3efV58aPCYiFGgDrWDCmIiXd6Zp8PUlYdOz1WmrHW0qD/uRsCbdYBlS37h/qfaUFs/zsv5WYQzmmUAj4Nx1iHVxvBvSLS/tI+l4YKw8YMciUkgua6fF39UbnFRuOBluiXXvMKZnv72yCcJAp2qwbOhOZHzUHc6aLcS/cKGMLHBHhKpBpXvNBVlMy2FoWLuOzopUa52wXPTqxMrknqOOWuiKghlpYvx+kl1WkAFTeHJao2Zish3A+TaHr1aBO5cYne/TxfbEhymsyEwvAEl49P4dlOSEdhLdQp+Dj4swyb7iPZ//jtUVp3+5Dn35Pjx01Xwtjn0wNZB+Hur6g5wtUM/s4gYYnuiwjhCXh+iB6jq7Qs12aNV/woIOkqCB0mDPCGXPjizwA5SWaIOUrSfCjt1VRE4setiaiyRRaxq/wwSroGe0UOLCvwzA0zrB4oPLH3MwzzhWx8uFniW/1YnEvGln9R0VPK7fouIW7EaZ/0//pQQF4aVHjzLvDNbXtC4Gt++Gy1HCQ50CcIGc+Xnzba5wbqdXtA0OVhTTDmir07LQ2gGVz2v8w+YP2Fn/37eXgwPUA6TSLRn4pWs=
  - secure: fSHM60IqsO/j/jz9++G6cEWArARmUJvE2dMmJtqVKw8MTu+vCllkHMiTv0tZYPLfHPGJMswpfGbfHCiLmGbuGA3sL6OEkh/p3WzdItFie2dM33f1Frb3acJ8S0EgFkuQxXEM6dCK1y7mBfo8fMcmCPwntbjbWrE1gVk+pB6YPrgJ2v5Z+ctPrp7k+S0v7SOccFvMIL2d7zzRBnMzZnnm7PkDLMoMTuqnVcWXs8C+Pf2UJ5kAlBoIfBkhfIspY5KAu8hKR8adDVeUbbfCJypcFBj9Ttb2st/Es2DXjnekLVGhQDx+iim07+/70GKBne6tw86GdejWz7UVz1n5uUPFBrpqTyDXOPYUPtBF2yEGcKL8UMAHP2kSLbcAFHWDxmXxOFt5Pi6zoVX7D0SUnvb8I74cN7Ptf4LRgwaj0+J5KJpO4qdZl+p4P3kob/AbrPGGB36Lq5+FIgYvzDSYv/eq3AAf7NSOkKtiOIJ82JneO621GCqqCSXOv9W2ol7zLkXkzV0644SUpCEva71+v5Lf+CYXxtlU2eKuRXQjVEobu+iUxwrZ322EWYf8uvwd/9E5l35gI+/bI3+Jq8AJLV/bgB2F+918IfsXkbeJuGOiPyKj1tQTZT0bszMIM9IUTvtO1BHS7ocUBHwWtFooAAHvxirgqHUsQMpHSnEVAwibWy4=
  - secure: QW1KUiULhBbNA2H8JvM1UUo6A5lt61zpK36bHtUFb8RrM+QQgbxPabuGwkrDlAC0A4Mc70H2CiWKN3fRiqSYbfdGY87LGlsJIaaSZ6s3nE8XNCp2NFH+4M1Q5imZQQZ/rE5F2PVLIERgk60SdOPZWfq8EFKjSfiNnvt9Xc4MAf2oAlW5vUOblmB3yZM1ysKh+BXZJBcjJdauLrg/KPb20HpSvkI/49xzRdfmrapqklij1m1s51+GP7l+GEZzKHZPt6xc0uMJ6n6H60gLc2V/Uf/t8FFLUhaxwqZ3Cgk14XEXlfSaKcohyY1+/Y8Da8WqZTphL1lbFhZ6tgeKE0m1qt529/ycG3VU2WSuQG1J9lNW1L1LQjES6A1IedFjuOA2t4TAtKOyt1vQfQQEPDWgPKqF6SRN7MI7n/8Njhre/yKvIGXdz6Aydvnkyt2ZdwLvqdALxBPzzhB3bo3Gp+kiRfvtmNf3xYYaFcdQRoKBSRStHxce5Ih5CizwmdumsKONYDfa21oLbM9fjn8UdLhiHIn12Dw5xkC+9uWzNWT/taobcgV+EVdqKwHmAnnIat/9mpS5OUzereeQmzuPthQabF//GjLRIlB0SnNarn2PdCo8yVFr/7T1wT5uRXAVIZY+6w9RFbQ6i0TagTNRwWalclaOUdPcbragkBSskH7PBXo=
